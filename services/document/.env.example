# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Google Gemini API
GEMINI_API_KEY=your-gemini-api-key
# EU endpoint for GDPR compliance (uncomment to use EU region)
# GEMINI_ENDPOINT=https://europe-west8-generativelanguage.googleapis.com

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Connection Pool (Production Optimization)
REDIS_MAX_CONNECTIONS=50  # Maximum connections in pool
REDIS_SOCKET_TIMEOUT=5  # Socket timeout in seconds
REDIS_SOCKET_CONNECT_TIMEOUT=5  # Connection timeout in seconds
REDIS_SOCKET_KEEPALIVE=true  # Enable TCP keepalive
REDIS_HEALTH_CHECK_INTERVAL=30  # Health check interval in seconds

# Redis Caching (Performance Optimization)
CACHE_ENABLED=true  # Enable query result caching
CACHE_QUERY_RESULTS_TTL=3600  # 1 hour - retrieval results cache
CACHE_DOCUMENTS_TTL=7200  # 2 hours - document metadata cache
CACHE_QUERY_LOGS_TTL=300  # 5 minutes - query history cache

# Application Settings
ENVIRONMENT=development
LOG_LEVEL=INFO
API_V1_PREFIX=/api/v1

# Security
SECRET_KEY=your-secret-key-change-in-production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# Model Configuration
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
GEMINI_MODEL=gemini-2.5-pro
GEMINI_TEMPERATURE=0.1

# PII Protection
PII_MAPPING_TTL=300  # 5 minutes in seconds
PII_CONFIDENCE_THRESHOLD=0.7

# Retrieval Configuration
DEFAULT_TOP_K=5
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=100

# Local Verification (Ollama)
OLLAMA_ENDPOINT=http://localhost:11434
OLLAMA_MODEL=mistral:7b
USE_LOCAL_VERIFIER=true  # Set to false to use Gemini verifier (not GDPR compliant)

# Data Retention (GDPR Compliance)
CHUNKS_RETENTION_DAYS=730  # 2 years - legal documents
LOGS_RETENTION_DAYS=90     # 90 days - audit trail
USAGE_RETENTION_MONTHS=13  # 13 months - billing history

# Modal OCR Configuration
# Get credentials from: https://modal.com/settings
MODAL_TOKEN_ID=ak-your-modal-token-id
MODAL_TOKEN_SECRET=as-your-modal-token-secret
MODAL_APP_NAME=juragpt-ocr  # Must match deployed Modal app name
MODAL_TIMEOUT=300  # Timeout in seconds (5 min for GPU cold start)
MODAL_ENABLED=true  # Set to false to disable OCR features
ENABLE_HANDWRITING_OCR=true  # Enable TrOCR for handwritten text detection

# Sentry Error Tracking (Optional)
# Get DSN from: https://sentry.io/settings/projects/
SENTRY_DSN=  # Leave empty to disable Sentry
SENTRY_ENVIRONMENT=  # Auto-detected from ENVIRONMENT if not set
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions for performance monitoring
SENTRY_PROFILES_SAMPLE_RATE=0.1  # 10% of transactions for profiling
